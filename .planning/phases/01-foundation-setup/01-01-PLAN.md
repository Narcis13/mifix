---
phase: 01-foundation-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - turbo.json
  - packages/client/*
  - packages/server/*
  - packages/shared/*
autonomous: true

must_haves:
  truths:
    - "Developer can run bun dev and see React app"
    - "Project has monorepo structure with client, server, shared packages"
    - "TypeScript compiles without errors"
  artifacts:
    - path: "package.json"
      provides: "Root workspace configuration"
      contains: "workspaces"
    - path: "turbo.json"
      provides: "Build orchestration config"
    - path: "packages/client/package.json"
      provides: "Frontend package"
    - path: "packages/server/package.json"
      provides: "Backend package"
    - path: "packages/shared/package.json"
      provides: "Shared types package"
  key_links:
    - from: "packages/client"
      to: "packages/shared"
      via: "workspace dependency"
      pattern: '"shared":'
    - from: "packages/server"
      to: "packages/shared"
      via: "workspace dependency"
      pattern: '"shared":'
---

<objective>
Initialize the MiFix project using the bhvr monorepo template with Bun, Hono, React, and Vite.

Purpose: Establish the foundation that all subsequent plans depend on - a working monorepo with three packages (client, server, shared) that can be developed and built.

Output: A working monorepo where `bun dev` starts both frontend and backend servers.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-setup/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create project from bhvr template</name>
  <files>
    package.json
    turbo.json
    packages/client/*
    packages/server/*
    packages/shared/*
  </files>
  <action>
Create the MiFix project using the bhvr template:

1. Navigate to the parent directory of the current mifix folder
2. Remove the existing mifix folder (it only contains planning docs)
3. Create new project: `bun create bhvr@latest mifix`
4. When prompted, accept defaults (the template provides Bun + Hono + React + Vite + Turbo)
5. Move the .planning folder back into the new project
6. Install dependencies: `cd mifix && bun install`

The bhvr template creates:
- Root package.json with workspaces
- turbo.json for build orchestration
- packages/client (React + Vite)
- packages/server (Hono)
- packages/shared (TypeScript types)

Note: The existing .planning folder and .git folder must be preserved - back them up before recreation, restore after.
  </action>
  <verify>
Run these commands from project root:
- `ls packages/` shows client, server, shared directories
- `cat package.json | grep workspaces` shows workspace config
- `cat turbo.json` shows build pipeline
- `ls .planning/` confirms planning docs preserved
  </verify>
  <done>
Project has monorepo structure with client, server, shared packages from bhvr template. Planning docs preserved.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify dev server works</name>
  <files>None (verification only)</files>
  <action>
Test that the bhvr template development environment works:

1. Run `bun dev` from project root
2. Verify Turbo starts both client and server
3. Check that client is accessible at http://localhost:5173 (Vite default)
4. Check that server is accessible at http://localhost:3000 (Hono)
5. Stop the dev server (Ctrl+C)

If there are any issues with dependencies or configuration, fix them before proceeding.
  </action>
  <verify>
- `bun dev` starts without errors
- `curl http://localhost:3000/api/health` returns 200 (or similar health endpoint)
- Frontend shows bhvr default page at http://localhost:5173
  </verify>
  <done>
Developer can run `bun dev` and see both frontend and backend running. Basic connectivity verified.
  </done>
</task>

</tasks>

<verification>
1. Run `bun dev` - both servers start
2. Visit http://localhost:5173 - React app loads
3. `curl http://localhost:3000` - server responds
4. `ls .planning/` - planning docs intact
5. `bun run build` - builds successfully
</verification>

<success_criteria>
- bhvr template project created with all three packages
- `bun dev` starts development servers without errors
- React app visible in browser
- Hono server responds to requests
- Planning documentation preserved
- TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-setup/01-01-SUMMARY.md`
</output>
